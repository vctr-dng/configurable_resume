\documentclass[11pt]{article}
\usepackage[T1]{fontenc}
\usepackage[a4paper, left=2cm, right=2cm, top=2cm, bottom=2cm, footskip=0cm]{geometry}
\usepackage[english]{babel}
\usepackage{garamondlibre}
\usepackage{fancyhdr}
\usepackage{parskip}
\usepackage{hyperref}
\usepackage{xifthen}
\usepackage{titlesec}
\usepackage{layout}
\usepackage{tabularx}
\usepackage{etoolbox} % Required for \appto

\usepackage{enumitem}

\setlist[itemize]{leftmargin=1.25em, labelsep=0.75em}

\usepackage{blindtext}
\usepackage[nopar]{kantlipsum}

\pagestyle{fancy} % Set the page style to 'fancy'
\fancyhf{} % Clear all header and footer fields
\renewcommand{\headrulewidth}{0pt} % Remove the header rule line
\setlength{\parskip}{0pt} % Set vertical space between paragraphs to zero

\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\newcommand{\setfullname}[2]{%
    \newcommand{\fullname}{#1~#2}%
}
\newcommand{\displayfullname}{%
    \begin{center}
    {\fontsize{\namefontsize}{\dimexpr1.2\namefontsize}\selectfont\fullname}
    \end{center}
    \namesep % Insert the defined vertical space
}

% Define individual information commands
\newcommand{\location}[1]{
    \def\mylocation{#1}
}
\newcommand{\tel}[1]{%
  \def\mytel{\href{tel:#1}{#1}}%
}
\newcommand{\email}[1]{%
  \def\myemail{\href{mailto:#1}{#1}}%
}
\newcommand{\github}[1]{%
  \def\mygithub{\href{https://github.com/#1}{GitHub: #1}}%
}
\newcommand{\linkedin}[1]{%
  \def\mylinkedin{\href{https://www.linkedin.com/in/#1}{linked.com/#1}}%
}

% Define the command to format the contact information
\newcommand{\displaycontactinfo}{%
  \begin{center}
    \ifthenelse{\isundefined{\mylocation}}{}{%
        \mylocation\separator
    }%
    \ifthenelse{\isundefined{\mytel}}{}{%
        \mytel\separator
    }%
    \ifthenelse{\isundefined{\myemail}}{}{%
        \myemail\separator
    }%
    \ifthenelse{\isundefined{\mygithub}}{}{%
        \mygithub\separator
    }%
    \ifthenelse{\isundefined{\mylinkedin}}{}{%
        \mylinkedin
    }%
    \end{center}
}

% \setmainfont{Times New Roman}

% Information
\newcommand{\namefontsize}{14pt}
\setfullname{John}{Doe}

% Define the vertical space between full name and contact info
\newcommand{\namesep}{\vspace{0.5em}}

\newcommand{\separator}{\ | \ }
% Comment unused information
\location{City, Country}
\tel{+1 234 567 890}
\email{john.doe@mail.com}
\github{john\_doe}
\linkedin{john\_doe}

\fancyfoot[c]{References available upon request}  % Centered footer

\titleformat{\section}       % Customize the \section command
  {\fontsize{16pt}{16pt}\selectfont\raggedright}
  {}{0em}            % No numbering
  {}                 % No additional code before the heading
  % [\titlerule]       % Horizontal line after the heading

\titlespacing*{\section}{0pt}{0pt}{0pt}

\newcommand{\allskills}{}
\newcommand{\addskill}[2]{%
  \appto{\allskills}{#1 & #2 \\}%
}

% File: skills.tex
\addskill{Category 1}{Subcategory 1, Subcategory 2, Subcategory 3}
\addskill{Category 2}{Subcategory 1, Subcategory 2, Subcategory 3}


\begin{document}
\displayfullname
\displaycontactinfo

\vspace{0.75em}

\kant[1][1]

\vspace{0.5em}

\section*{Experience\hspace{0.5em}\hrulefill}
% \noindent\hrulefill % Horizontal rule for styling

\vspace{0.35em}

\begin{tabularx}{\textwidth}{@{}X r@{}} % "@" removes default padding, ensuring alignment
	\fontsize{14pt}{0pt}\selectfont\textbf{Company} & mmmm YY – mmmm YY \\
	Role name                                       & City, Country     \\
\end{tabularx}

\vspace{0.1em}

\blinditemize[3]

\vspace{0.75em}

\begin{tabularx}{\textwidth}{@{}X r@{}} % "@" removes default padding, ensuring alignment
	\fontsize{14pt}{0pt}\selectfont\textbf{Company} & mmmm YY – mmmm YY \\
	Role name                                       & City, Country     \\
\end{tabularx}

\vspace{0.1em}

\blinditemize[3]

\vspace{0.5em}

\section*{Education\hspace{0.5em}\hrulefill}
% \noindent\hrulefill % Horizontal rule for styling

\vspace{0.35em}

\begin{tabularx}{\textwidth}{@{}X r@{}} % "@" removes default padding, ensuring alignment
	\fontsize{14pt}{0pt}\selectfont\textbf{University} & mmmm YY – mmmm YY \\
	Degree in Major                                    & City, Country     \\
\end{tabularx}

\vspace{0.1em}

\blinditemize[3]

\vspace{0.75em}

\begin{tabularx}{\textwidth}{@{}X r@{}} % "@" removes default padding, ensuring alignment
	\fontsize{14pt}{0pt}\selectfont\textbf{University} & mmmm YY – mmmm YY \\
	Degree in Major                                    & City, Country     \\
\end{tabularx}

\vspace{0.1em}

\blinditemize[3]

\vspace{0.5em}
\section*{Skills\hspace{0.5em}\hrulefill}

\begin{tabularx}{\textwidth}{@{}l L{\textwidth}}
	\allskills
\end{tabularx}

\newpage
\layout*
\end{document}
